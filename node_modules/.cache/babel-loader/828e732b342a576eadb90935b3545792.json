{"remainingRequest":"/home/oteng/Projects/Vue/Pharm/node_modules/babel-loader/lib/index.js!/home/oteng/Projects/Vue/Pharm/src/store/modules/authData.js","dependencies":[{"path":"/home/oteng/Projects/Vue/Pharm/src/store/modules/authData.js","mtime":1641415518000},{"path":"/home/oteng/Projects/Vue/Pharm/babel.config.js","mtime":1600706974000},{"path":"/home/oteng/Projects/Vue/Pharm/node_modules/cache-loader/dist/cjs.js","mtime":1646200032053},{"path":"/home/oteng/Projects/Vue/Pharm/node_modules/babel-loader/lib/index.js","mtime":1650451521054}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsKaW1wb3J0ICJmaXJlYmFzZS9hdXRoIjsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiB7CiAgICBsb2dnZWRJblVzZXI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpICE9IG51bGwgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKSA6IG51bGwsCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGVycm9yOiBudWxsCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBsb2dnZWRJblVzZXI6IGZ1bmN0aW9uIGxvZ2dlZEluVXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9nZ2VkSW5Vc2VyOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvYWRpbmc7CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lcnJvcjsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5sb2dnZWRJblVzZXIgPSBkYXRhOwogICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgIH0sCiAgICBzZXRMb2dvdXQ6IGZ1bmN0aW9uIHNldExvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dnZWRJblVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsgLy8gdGhpcy4kcm91dGVyLmdvKCIvIik7CiAgICB9LAogICAgc2V0TG9hZGluZzogZnVuY3Rpb24gc2V0TG9hZGluZyhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5sb2FkaW5nID0gZGF0YTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5lcnJvciA9IGRhdGE7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IG51bGw7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbiBjbGVhckVycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBkYXRhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgIGNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZGF0YS5lbWFpbCwgZGF0YS5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgIHZhciBuZXdVc2VyID0gewogICAgICAgICAgdWlkOiB1c2VyLnVzZXIudWlkCiAgICAgICAgfTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlckluZm8iLCBKU09OLnN0cmluZ2lmeShuZXdVc2VyKSk7CiAgICAgICAgY29tbWl0KCJzZXRVc2VyIiwgewogICAgICAgICAgdWlkOiB1c2VyLnVzZXIudWlkCiAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCJ1c2VyIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIC8vIEhhbmRsZSBFcnJvcnMgaGVyZS4KICAgICAgICAvLyB2YXIgZXJyb3JDb2RlID0gZXJyb3IuY29kZTsKICAgICAgICAvLyB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsIGVycm9yKTsgLy8gLi4uCiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25Vc2VyVXA6IGZ1bmN0aW9uIHNpZ25Vc2VyVXAoX3JlZjIsIGRhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGNvbW1pdCgiY2xlYXJFcnJvciIpOwogICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGRhdGEuZW1haWwsIGRhdGEucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgdmFyIG5ld1VzZXIgPSB7CiAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICB9OyAvLyBjb25zb2xlLmxvZyhuZXdVc2VyKTsKCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkobmV3VXNlcikpOwogICAgICAgIGNvbW1pdCgic2V0VXNlciIsIG5ld1VzZXIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsIGVycm9yKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlckluZm8iKTsgLy8gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29tbWl0KCJzZXRMb2dvdXQiKTsKICAgICAgfSwgZnVuY3Rpb24gKF9lcnJvcikge30pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/oteng/Projects/Vue/Pharm/src/store/modules/authData.js"],"names":["firebase","state","loggedInUser","localStorage","getItem","JSON","parse","loading","error","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","login","commit","auth","signInWithEmailAndPassword","email","password","then","user","newUser","uid","setItem","stringify","catch","removeItem","signUserUp","createUserWithEmailAndPassword","signOut","_error"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport default {\r\n  state: {\r\n    loggedInUser:\r\n      localStorage.getItem(\"userInfo\") != null\r\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n        : null,\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  getters: {\r\n    loggedInUser: (state) => state.loggedInUser,\r\n    loading: (state) => state.loading,\r\n    error: (state) => state.error,\r\n  },\r\n  mutations: {\r\n    setUser(state, data) {\r\n      state.loggedInUser = data;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    setLogout(state) {\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n      state.error = null;\r\n      // this.$router.go(\"/\");\r\n    },\r\n    setLoading(state, data) {\r\n      state.loading = data;\r\n      state.error = null;\r\n    },\r\n    setError(state, data) {\r\n      state.error = data;\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n    },\r\n    clearError(state) {\r\n      state.error = null;\r\n    },\r\n  },\r\n  actions: {\r\n    login({ commit }, data) {\r\n      commit(\"clearError\");\r\n      commit(\"setLoading\", true);\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(data.email, data.password)\r\n        .then((user) => {\r\n          const newUser = { uid: user.user.uid };\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", { uid: user.user.uid });\r\n          // console.log(\"user\");\r\n        })\r\n        .catch(function(error) {\r\n          // Handle Errors here.\r\n          // var errorCode = error.code;\r\n          // var errorMessage = error.message;\r\n          // console.log(error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          commit(\"setError\", error);\r\n          // ...\r\n        });\r\n    },\r\n\r\n    signUserUp({ commit }, data) {\r\n      commit(\"setLoading\", true);\r\n      commit(\"clearError\");\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(data.email, data.password)\r\n        .then((user) => {\r\n          commit(\"setLoading\", false);\r\n\r\n          const newUser = {\r\n            uid: user.user.uid,\r\n          };\r\n          // console.log(newUser);\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", newUser);\r\n        })\r\n        .catch((error) => {\r\n          commit(\"setLoading\", false);\r\n          commit(\"setError\", error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          // console.log(error);\r\n        });\r\n    },\r\n    signOut({ commit }) {\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(\r\n          () => {\r\n            localStorage.removeItem(\"userInfo\");\r\n            commit(\"setLogout\");\r\n          },\r\n          (_error) => {}\r\n        );\r\n    },\r\n  },\r\n};\r\n"]}]}